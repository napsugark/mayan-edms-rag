Version 4.9.4
=============

Released: September 3, 2025

Summary
-------

Version 4.9.4 merges fixes from the 4.8.7 branch, introduces test suite performance optimizations, and adds improvements to Docker Compose service orchestration and health checks. Documentation has been refined with simplified chapters, new tooling support, and removal of outdated sections. This release also formalizes project policy changes, including the removal of donation links.


Changes
-------

Testing & Development
^^^^^^^^^^^^^^^^^^^^^

- Fixed a task manager test by adding the missing super().tearDown call.
- Optimized the `RandomPrimaryKeyModelMonkeyPatchMixin`:

  - Now uses an optimistic approach, only introspecting the database on random primary key collisions.
  - Delivers 11-20% faster test execution times across the suite.


Documentation
^^^^^^^^^^^^^

- Merged updates and fixes from version 4.8.7.
- Simplified and improved the series support chapter for clarity.
- Added Sphinx GraphViz extension to support rendering of diagrams within the documentation.
- Removed outdated documentation sections.
- Changed the README to display the black and white logo.


Docker Compose
^^^^^^^^^^^^^^

- Improved container dependency handling:

  - Ensures services (PostgreSQL, Redis, RabbitMQ, Elasticsearch) start before Mayan EDMS.
  - Ensures Mayan EDMS shuts down cleanly before dependent services.

- Added health checks for:

  - Elasticsearch
  - Mayan EDMS
  - RabbitMQ
  - Redis

- Improved PostgreSQL health check by explicitly specifying the database name, enhancing accuracy.


Project Governance
^^^^^^^^^^^^^^^^^^

Removed donation links as the Mayan EDMS project no longer accepts donations.
