Version 4.6.6
=============

Released: August 6, 2025


Summary
-------

This release focuses on maintainability, modern tooling, and developer experience. With the introduction of Mayan Forge and several critical updates to dependencies and Docker environments, Mayan EDMS is now easier to build, test, and deploy than ever.


Changes
-------

Development
^^^^^^^^^^^

New Development Environment - Mayan Forge: Introduced **Mayan Forge**, a Docker-based development environment designed to streamline development and testing.


Dependencies
^^^^^^^^^^^^

The following Python packages have been upgraded:

- `Django`: 4.2.13 to 4.2.23
- `PyYAML`: 6.0.1 to 6.0.2
- `bleach`: 6.1.0 to 6.2.0
- `django-storages`: 1.14.2 to 1.14.6
- `extract-msg`: 0.48.5 to 0.48.7
- `furl`: 2.1.3 to 2.1.4
- `pip`: 24.0 to 24.3
- `psycopg`: 3.1.14 to 3.1.20
- `redis`: 5.0.3 to 5.0.8
- `twine`: 5.1.0 to 5.1.1


Docker
^^^^^^

The following Docker base images have been updated:

- **Debian (Base)**: 12.5-slim to 12.11-slim
- **PostgreSQL**: 13.15-alpine to 13.21-alpine
- **Python**: 3.11.9-slim to 3.11.13-slim
- **Elasticsearch**: 7.17.20 to 7.17.28


Documentation
^^^^^^^^^^^^^
**Documentation Navigation Enhancements**: Improved navigation structure for easier browsing and reference within the documentation.


GitLab CI
^^^^^^^^^

Extended CI Artifact Retention. GitLab CI artifact expiration increased from **4 hours to 24 hours**, offering more flexibility in CI workflows.

Quoted Environment Variables. Environment variables are now explicitly quoted before loading, improving compatibility across deployment environments.


Platform templates
^^^^^^^^^^^^^^^^^^

Quoted Environment Variables. As with GitLab CI, platform environment variables are now explicitly quoted before loading, improving compatibility across deployment environments.


Translations
^^^^^^^^^^^^

Translation System Enhancements. Updated the translation helper script to use new accessors from `MayanAppConfig`.

Backported key improvements from `MayanAppConfig` to support this functionality.


Workflows
^^^^^^^^^
Workflow Launch View Fix. Corrected the context handling when only one document is selected in the workflow launch view.


Removals
--------

.. include:: partials/removals-4.6.txt


Backward incompatible changes
-----------------------------

.. include:: partials/backward-incompatible-4.6.txt


Deprecations
------------

.. include:: partials/deprecations-4.6.txt


Issues closed
-------------

- None

.. _PyPI: https://pypi.python.org/pypi/mayan-edms/
