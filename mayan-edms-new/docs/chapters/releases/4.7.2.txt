Version 4.7.2
=============

Released: August 07, 2025


Summary
-------

Version 4.7.2 includes essential framework upgrades, search functionality fixes, and usability enhancements. It also streamlines developer tooling. This release is part of the continued effort to strengthen both the user experience and the maintainability of the codebase by merge improvements from series 4.6 as well as backports from series 4.8 and 4.9.


Changes
-------

Appearance
^^^^^^^^^^

Replaced the custom animated list selection checkbox with a styled standard HTML checkbox, increasing browser compatibility and reducing complexity.

Backported improvements to the multi-item bulk action dropdown, reducing code duplication.


Dependencies
^^^^^^^^^^^^

Dependency Version Upgrades:

- Django from 4.2.13 to 4.2.23.
- PyYAML from 6.0.1 to 6.0.2.
- bleach from 6.1.0 to 6.2.0.
- django-auth-ldap from 4.6.0 to 4.8.0
- django-solo from 2.2.0 to 2.3.0
- django-storages from 1.14.2 to 1.14.6.
- extract-msg from 0.48.5 to 0.48.7.
- furl from 2.1.3 to 2.1.4.
- pip from 24.0 to 24.3.
- psycopg from 3.1.14 to 3.1.20.
- pycryptodome from 3.20.0 to 3.21.0
- pytz from 2024.1 to 2024.2.
- redis from 5.0.3 to 5.0.8.
- requests from 2.32.3 to 2.32.4
- sentry-sdk from 1.45.0 to 1.45.1
- twine from 5.1.0 to 5.1.1.
- whitenoise from 6.6.0 to 6.7.0
- pip from 24.3 to 24.3.1


Development & Testing
^^^^^^^^^^^^^^^^^^^^^

Makefile Improvements: Fixed the make target responsible for generating testing dependency requirements. Each generated requirement entry now explicitly defines the settings file to use, ensuring reproducibility across environments.

New: CITATION.cff: Added a Citation File Format (CITATION.cff) to allow proper academic citation of Mayan EDMS.

Updated README Files: Improved clarity, updated badges and links.


Docker
^^^^^^

Updated Docker Image Tags:

- Base Debian from 12.5-slim to 12.11-slim.
- Elasticsearch from 7.17.20 to 7.17.28
- Forge base from 24.04 to noble-20250714
- PostgreSQL from 14.12-alpine to 14.18-alpine
- Python from 3.11.9-slim to 3.11.13-slim.
- RabbitMQ from 3.12.14-management-alpine to 3.13.7-management-alpine

Removed localized fonts from the testing Dockerfile to reduce image size and eliminate unnecessary dependencies.


Search
^^^^^^

Fixed an issue where search result limits were not being applied correctly in Whoosh-based searches, improving result predictability.

Backported various improvements from newer versions to enhance the robustness and coverage of search app test cases.


Utilities
^^^^^^^^^

Flatten Map Fix: Corrected the `flatten_map` utility function so it now correctly uses the separator argument.
