Version 4.8.4
=============

Released: July 27, 2025

Summary
^^^^^^^

This release focuses on developer tooling, CI/CD enhancements, browser compatibility, and integration robustness, particularly with Ollama. It also includes important dependency updates and a new Docker development environment to simplify development workflows.


Changes
-------

Appearance
^^^^^^^^^^

Resolved a rendering issue affecting toolbars on newer Chromium-based browsers, improving UI consistency and usability across recent browser versions.


Continuous Integration (CI)
^^^^^^^^^^^^^^^^^^^^^^^^^^^

The default expiration time for GitLab CI artifacts has been increased from 4 hours to 24 hours, allowing more flexibility for long-running jobs and delayed artifact access.


Dependencies
^^^^^^^^^^^^

Updated the following Python package versions to maintain compatibility and benefit from upstream improvements:

- Django from 4.2.16 to 4.2.23
- requests from 2.32.3 to 2.32.4
- python_gnupg from 0.5.3 to 0.5.4
- furl from 2.1.3 to 2.1.4
- psycopg from 3.2.3 to 3.2.9

These updates improve security, bug fixes, and performance across various features of the application.


Documentation
^^^^^^^^^^^^^

Enhanced documentation index structure and reading flow for a more intuitive experience when browsing or searching for content.

Added a dedicated document explaining the Ollama integration feature.


Docker
^^^^^^

Updated the following Docker image tags:

- Elasticsearch from 7.17.24 to 7.16.28
- Debian from 12.7-slim to 12.11-slim
- Redis from 7.2.5-alpine3.20 to 7.2.10-alpine3.21


Forge
^^^^^

Introduced Mayan Forge, a Docker-based development environment designed for easier building and testing of Mayan EDMS. This environment simplifies developer onboarding and version-specific development work.


Legal
^^^^^

The copyright year has been updated to 2025.


Ollama
^^^^^^

Reinforced the Ollama document file metadata client to be resilient against undocumented, backward-incompatible changes made in recent Ollama updates. This ensures more robust integration with both older and newer Ollama versions.


Workflows
^^^^^^^^^

Fixed an issue in the workflow launch view where the context would not render properly when only one document was selected. This did not affected workflows reliability on UI navigation.


Other
^^^^^

- Quote environment variables prior to loading.
- Formalize the pattern used to get all the request `GET` and `POST` data.
- Improve how the select all toolbar checkbox is disabled when there are no
  results.


Removals
--------

.. include:: partials/removals-4.8.txt


Backward incompatible changes
-----------------------------

.. include:: partials/backward-incompatible-4.8.txt


Deprecations
------------

.. include:: partials/deprecations-4.8.txt


Issues closed
-------------

- None

.. _PyPI: https://pypi.python.org/pypi/mayan-edms/
